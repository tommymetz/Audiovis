{"version":3,"file":"spectrum-compiled.js","names":["Spectrum","scene","stem","color","_classCallCheck","mythis","initSpectrum","_createClass","key","value","centroids","CENTROID_LENGTH","length","MAX_POINTS","geometry","THREE","BufferGeometry","positions","Float32Array","normals","setAttribute","BufferAttribute","material","MeshBasicMaterial","wireframe","side","DoubleSide","transparent","opacity","spectrum","Mesh","position","x","y","offsety","rootobject","add","attributes","array","positionlength","trianglecount","scale","z","index","trindex","sidecount","trindexdelta","i","Math","log10","normal","normalcount","computeVertexNormals","spectrummirror","rotation","PI","updateSpectrum","centroid_indexes","multiplyer","json","track","byte_num_range","factor","isNaN","frame","vqi","undefined","volume","log","needsUpdate","updateColor","set"],"sources":["../../../../../src/models/spectrum.js"],"sourcesContent":["class Spectrum {\n  constructor(scene, stem, color) {\n    const mythis = this;\n    this.scene = scene;\n    this.stem = stem;\n    this.color = color;\n\n    this.initSpectrum();\n  }\n\n  initSpectrum() {\n    //Spectrum Shape\n    // Guard against undefined centroids (happens when allquietsamples is true)\n    if (!this.stem.centroids || !this.stem.centroids[0]) {\n      return;\n    }\n    const CENTROID_LENGTH = this.stem.centroids[0].length;\n    const MAX_POINTS = CENTROID_LENGTH * 2;\n    const geometry = new THREE.BufferGeometry();\n    var positions = new Float32Array(MAX_POINTS * 3);\n    var normals = new Float32Array(MAX_POINTS * 3);\n    geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n    geometry.setAttribute('normal', new THREE.BufferAttribute(normals, 3));\n    const material = new THREE.MeshBasicMaterial({color: this.color, wireframe:false, side: THREE.DoubleSide, transparent:true, opacity: 0.75}); //side: THREE.DoubleSide,\n    this.spectrum = new THREE.Mesh(geometry, material);\n    this.spectrum.position.x = 0;\n    this.spectrum.position.y = this.stem.offsety;\n    //this.spectrum.rotation.y = Math.PI / 1;\n    this.stem.rootobject.add(this.spectrum);\n\n    //Create two columns of positions\n    var positions = this.spectrum.geometry.attributes.position.array;\n    const positionlength = positions.length/3;\n    const trianglecount = positionlength/3;\n    const scale = 1;\n    let x;\n    let y;\n    let z;\n    var index = 0;\n    let side = 1;\n    let trindex = -1;\n    let sidecount = 0;\n    let trindexdelta = 0;\n    for(var i=0; i<trianglecount*3; i++){\n\n      //Set side and trindex values\n      if (i%3 === 0){\n        trindex++;\n        side = (side == 0 ? 1 : 0);\n      }\n      trindexdelta = trindex - sidecount;\n\n      //Set postions for each side\n      if(side == 0){ //SIDE A\n\n        //V1\n        if (i%3 === 0){\n          x = 0;\n          y = Math.log10(trindexdelta);\n          z = 0;\n\n        //V2\n        }else if(i%3 === 1){\n          x = 1;\n          y = Math.log10(trindexdelta);\n          z = 0;\n\n        //V3\n        }else{\n          x = 1;\n          y = Math.log10(trindexdelta+1);\n          z = 0;\n        }\n\n\n      }else{ //SIDE B\n\n        //V1\n        if (i%3 === 0){\n          x = 0;\n          y = Math.log10(trindexdelta);\n          z = 0;\n\n        //V2\n        }else if(i%3 === 1){\n          x = 0;\n          y = Math.log10(trindexdelta-0.9);\n          z = 0;\n\n        //V3\n        }else{\n          x = 0.9;\n          y = Math.log10(trindexdelta);\n          z = 0;\n          sidecount++;\n        }\n\n      }\n\n      //Range\n      if(x<=0){x=0;};\n      if(y<=0){y=0;};\n      if(z<=0){z=0;};\n\n      //Set position\n      var index = 3 * i;\n      positions[ index     ] = x;\n      positions[ index + 1 ] = y;\n      positions[ index + 2 ] = z;\n    }\n\n    //Normals\n    var normals = this.spectrum.geometry.attributes.normal.array\n    const normalcount = normals.length;\n    for(var i=0; i<normalcount; i++){\n      normals[i] = -1;\n    }\n    this.spectrum.geometry.computeVertexNormals();\n    //var helper = new THREE.VertexNormalsHelper( this.spectrum, 0.2, 0x00ff00, 1 );\n    //this.stem.rootobject.add(helper);\n\n\n    //Spectrum Shape Mirror\n    this.spectrummirror = new THREE.Mesh(geometry, material);\n    this.spectrummirror.position.x = 0;\n    this.spectrummirror.position.y = this.stem.offsety;\n    this.spectrummirror.rotation.y = Math.PI / 1;\n    this.stem.rootobject.add(this.spectrummirror);\n  }\n\n  updateSpectrum() {\n    // Guard against undefined objects (happens when allquietsamples is true)\n    if (!this.spectrum || !this.stem.centroids || !this.stem.centroid_indexes) {\n      return;\n    }\n    const multiplyer = this.stem.json.track.byte_num_range; //255, 65535\n    const factor = 100000;\n    \n    // Guard against NaN or invalid frame\n    if (isNaN(this.stem.frame) || this.stem.frame < 0 || this.stem.frame >= this.stem.centroid_indexes.length) {\n      return;\n    }\n    \n    const vqi = this.stem.centroid_indexes[this.stem.frame];\n    \n    // Guard against invalid vqi (undefined or out of bounds)\n    if (vqi === undefined || !this.stem.centroids[vqi]) {\n      return;\n    }\n\n    //Create two columns of positions\n    const positions = this.spectrum.geometry.attributes.position.array;\n    const positionlength = positions.length/3;\n    const trianglecount = positionlength/3;\n    const scale = 1;\n    let x;\n    let y;\n    let z;\n    let volume;\n    var index = 0;\n    let side = 1;\n    let trindex = -1;\n    let sidecount = 0;\n    let trindexdelta = 0;\n    for(let i=0; i<trianglecount*3; i++){\n\n      //Set side and trindex values\n      if (i%3 === 0){\n        trindex++;\n        side = (side == 0 ? 1 : 0);\n      }\n      trindexdelta = trindex - sidecount;\n\n      //Set postions for each side\n      if(side == 0){ //SIDE A\n\n        //V1\n        if (i%3 === 0){\n          x = 0;\n          y = Math.log10(trindexdelta);\n          z = 0;\n\n        //V2\n        }else if(i%3 === 1){\n          volume = Math.log10(this.stem.volume[this.stem.frame] / multiplyer * factor) / 10;\n          x = Math.log(this.stem.centroids[vqi][trindexdelta] / multiplyer * factor) / 2 * volume;\n          y = Math.log10(trindexdelta);\n          z = 0;\n\n        //V3\n        }else{\n          volume = Math.log10(this.stem.volume[this.stem.frame] / multiplyer * factor) / 10;\n          x = Math.log(this.stem.centroids[vqi][trindexdelta+1] / multiplyer * factor) / 2 * volume;\n          y = Math.log10(trindexdelta+1);\n          z = 0;\n        }\n\n\n      }else{ //SIDE B\n\n        //V1\n        if (i%3 === 0){\n          x = 0;\n          y = Math.log10(trindexdelta);\n          z = 0;\n\n        //V2\n        }else if(i%3 === 1){\n          x = 0;\n          y = Math.log10(trindexdelta-1); //0.9\n          z = 0;\n\n        //V3\n        }else{\n          volume = Math.log10(this.stem.volume[this.stem.frame] / multiplyer * factor) / 10;\n          x = Math.log(this.stem.centroids[vqi][trindexdelta] / multiplyer * factor) / 2 * volume * 1; //0.9\n          y = Math.log10(trindexdelta);\n          z = 0;\n          sidecount++;\n        }\n\n      }\n\n      //Range\n      if(x<=0){x=0;};\n      if(y<=0){y=0;};\n      if(z<=0){z=0;};\n\n      //Set position\n      var index = 3 * i;\n      positions[ index     ] = x;\n      positions[ index + 1 ] = y;\n      positions[ index + 2 ] = z;\n    }\n    this.spectrum.geometry.attributes.position.needsUpdate = true;\n\n    //Mirror\n    //this.spectrummirror.geometry.attributes.position.array = positions;\n    //this.spectrummirror.geometry.attributes.position.needsUpdate = true;\n  }\n\n  updateColor(color){\n    // Guard against undefined objects (happens when allquietsamples is true)\n    if (!this.spectrum || !this.spectrummirror) {\n      return;\n    }\n    this.spectrum.material.color.set(color);\n    this.spectrummirror.material.color.set(color);\n  }\n\n\n\n  //\n}\n"],"mappings":";;;;;;;;IAAMA,QAAQ;EACZ,SAAAA,SAAYC,KAAK,EAAEC,IAAI,EAAEC,KAAK,EAAE;IAAAC,eAAA,OAAAJ,QAAA;IAC9B,IAAMK,MAAM,GAAG,IAAI;IACnB,IAAI,CAACJ,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,KAAK,GAAGA,KAAK;IAElB,IAAI,CAACG,YAAY,CAAC,CAAC;EACrB;EAAC,OAAAC,YAAA,CAAAP,QAAA;IAAAQ,GAAA;IAAAC,KAAA,EAED,SAAAH,YAAYA,CAAA,EAAG;MACb;MACA;MACA,IAAI,CAAC,IAAI,CAACJ,IAAI,CAACQ,SAAS,IAAI,CAAC,IAAI,CAACR,IAAI,CAACQ,SAAS,CAAC,CAAC,CAAC,EAAE;QACnD;MACF;MACA,IAAMC,eAAe,GAAG,IAAI,CAACT,IAAI,CAACQ,SAAS,CAAC,CAAC,CAAC,CAACE,MAAM;MACrD,IAAMC,UAAU,GAAGF,eAAe,GAAG,CAAC;MACtC,IAAMG,QAAQ,GAAG,IAAIC,KAAK,CAACC,cAAc,CAAC,CAAC;MAC3C,IAAIC,SAAS,GAAG,IAAIC,YAAY,CAACL,UAAU,GAAG,CAAC,CAAC;MAChD,IAAIM,OAAO,GAAG,IAAID,YAAY,CAACL,UAAU,GAAG,CAAC,CAAC;MAC9CC,QAAQ,CAACM,YAAY,CAAC,UAAU,EAAE,IAAIL,KAAK,CAACM,eAAe,CAACJ,SAAS,EAAE,CAAC,CAAC,CAAC;MAC1EH,QAAQ,CAACM,YAAY,CAAC,QAAQ,EAAE,IAAIL,KAAK,CAACM,eAAe,CAACF,OAAO,EAAE,CAAC,CAAC,CAAC;MACtE,IAAMG,QAAQ,GAAG,IAAIP,KAAK,CAACQ,iBAAiB,CAAC;QAACpB,KAAK,EAAE,IAAI,CAACA,KAAK;QAAEqB,SAAS,EAAC,KAAK;QAAEC,IAAI,EAAEV,KAAK,CAACW,UAAU;QAAEC,WAAW,EAAC,IAAI;QAAEC,OAAO,EAAE;MAAI,CAAC,CAAC,CAAC,CAAC;MAC7I,IAAI,CAACC,QAAQ,GAAG,IAAId,KAAK,CAACe,IAAI,CAAChB,QAAQ,EAAEQ,QAAQ,CAAC;MAClD,IAAI,CAACO,QAAQ,CAACE,QAAQ,CAACC,CAAC,GAAG,CAAC;MAC5B,IAAI,CAACH,QAAQ,CAACE,QAAQ,CAACE,CAAC,GAAG,IAAI,CAAC/B,IAAI,CAACgC,OAAO;MAC5C;MACA,IAAI,CAAChC,IAAI,CAACiC,UAAU,CAACC,GAAG,CAAC,IAAI,CAACP,QAAQ,CAAC;;MAEvC;MACA,IAAIZ,SAAS,GAAG,IAAI,CAACY,QAAQ,CAACf,QAAQ,CAACuB,UAAU,CAACN,QAAQ,CAACO,KAAK;MAChE,IAAMC,cAAc,GAAGtB,SAAS,CAACL,MAAM,GAAC,CAAC;MACzC,IAAM4B,aAAa,GAAGD,cAAc,GAAC,CAAC;MACtC,IAAME,KAAK,GAAG,CAAC;MACf,IAAIT,CAAC;MACL,IAAIC,CAAC;MACL,IAAIS,CAAC;MACL,IAAIC,KAAK,GAAG,CAAC;MACb,IAAIlB,IAAI,GAAG,CAAC;MACZ,IAAImB,OAAO,GAAG,CAAC,CAAC;MAChB,IAAIC,SAAS,GAAG,CAAC;MACjB,IAAIC,YAAY,GAAG,CAAC;MACpB,KAAI,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACP,aAAa,GAAC,CAAC,EAAEO,CAAC,EAAE,EAAC;QAElC;QACA,IAAIA,CAAC,GAAC,CAAC,KAAK,CAAC,EAAC;UACZH,OAAO,EAAE;UACTnB,IAAI,GAAIA,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAE;QAC5B;QACAqB,YAAY,GAAGF,OAAO,GAAGC,SAAS;;QAElC;QACA,IAAGpB,IAAI,IAAI,CAAC,EAAC;UAAE;;UAEb;UACA,IAAIsB,CAAC,GAAC,CAAC,KAAK,CAAC,EAAC;YACZf,CAAC,GAAG,CAAC;YACLC,CAAC,GAAGe,IAAI,CAACC,KAAK,CAACH,YAAY,CAAC;YAC5BJ,CAAC,GAAG,CAAC;;YAEP;UACA,CAAC,MAAK,IAAGK,CAAC,GAAC,CAAC,KAAK,CAAC,EAAC;YACjBf,CAAC,GAAG,CAAC;YACLC,CAAC,GAAGe,IAAI,CAACC,KAAK,CAACH,YAAY,CAAC;YAC5BJ,CAAC,GAAG,CAAC;;YAEP;UACA,CAAC,MAAI;YACHV,CAAC,GAAG,CAAC;YACLC,CAAC,GAAGe,IAAI,CAACC,KAAK,CAACH,YAAY,GAAC,CAAC,CAAC;YAC9BJ,CAAC,GAAG,CAAC;UACP;QAGF,CAAC,MAAI;UAAE;;UAEL;UACA,IAAIK,CAAC,GAAC,CAAC,KAAK,CAAC,EAAC;YACZf,CAAC,GAAG,CAAC;YACLC,CAAC,GAAGe,IAAI,CAACC,KAAK,CAACH,YAAY,CAAC;YAC5BJ,CAAC,GAAG,CAAC;;YAEP;UACA,CAAC,MAAK,IAAGK,CAAC,GAAC,CAAC,KAAK,CAAC,EAAC;YACjBf,CAAC,GAAG,CAAC;YACLC,CAAC,GAAGe,IAAI,CAACC,KAAK,CAACH,YAAY,GAAC,GAAG,CAAC;YAChCJ,CAAC,GAAG,CAAC;;YAEP;UACA,CAAC,MAAI;YACHV,CAAC,GAAG,GAAG;YACPC,CAAC,GAAGe,IAAI,CAACC,KAAK,CAACH,YAAY,CAAC;YAC5BJ,CAAC,GAAG,CAAC;YACLG,SAAS,EAAE;UACb;QAEF;;QAEA;QACA,IAAGb,CAAC,IAAE,CAAC,EAAC;UAACA,CAAC,GAAC,CAAC;QAAC;QAAC;QACd,IAAGC,CAAC,IAAE,CAAC,EAAC;UAACA,CAAC,GAAC,CAAC;QAAC;QAAC;QACd,IAAGS,CAAC,IAAE,CAAC,EAAC;UAACA,CAAC,GAAC,CAAC;QAAC;QAAC;;QAEd;QACA,IAAIC,KAAK,GAAG,CAAC,GAAGI,CAAC;QACjB9B,SAAS,CAAE0B,KAAK,CAAM,GAAGX,CAAC;QAC1Bf,SAAS,CAAE0B,KAAK,GAAG,CAAC,CAAE,GAAGV,CAAC;QAC1BhB,SAAS,CAAE0B,KAAK,GAAG,CAAC,CAAE,GAAGD,CAAC;MAC5B;;MAEA;MACA,IAAIvB,OAAO,GAAG,IAAI,CAACU,QAAQ,CAACf,QAAQ,CAACuB,UAAU,CAACa,MAAM,CAACZ,KAAK;MAC5D,IAAMa,WAAW,GAAGhC,OAAO,CAACP,MAAM;MAClC,KAAI,IAAImC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACI,WAAW,EAAEJ,CAAC,EAAE,EAAC;QAC9B5B,OAAO,CAAC4B,CAAC,CAAC,GAAG,CAAC,CAAC;MACjB;MACA,IAAI,CAAClB,QAAQ,CAACf,QAAQ,CAACsC,oBAAoB,CAAC,CAAC;MAC7C;MACA;;MAGA;MACA,IAAI,CAACC,cAAc,GAAG,IAAItC,KAAK,CAACe,IAAI,CAAChB,QAAQ,EAAEQ,QAAQ,CAAC;MACxD,IAAI,CAAC+B,cAAc,CAACtB,QAAQ,CAACC,CAAC,GAAG,CAAC;MAClC,IAAI,CAACqB,cAAc,CAACtB,QAAQ,CAACE,CAAC,GAAG,IAAI,CAAC/B,IAAI,CAACgC,OAAO;MAClD,IAAI,CAACmB,cAAc,CAACC,QAAQ,CAACrB,CAAC,GAAGe,IAAI,CAACO,EAAE,GAAG,CAAC;MAC5C,IAAI,CAACrD,IAAI,CAACiC,UAAU,CAACC,GAAG,CAAC,IAAI,CAACiB,cAAc,CAAC;IAC/C;EAAC;IAAA7C,GAAA;IAAAC,KAAA,EAED,SAAA+C,cAAcA,CAAA,EAAG;MACf;MACA,IAAI,CAAC,IAAI,CAAC3B,QAAQ,IAAI,CAAC,IAAI,CAAC3B,IAAI,CAACQ,SAAS,IAAI,CAAC,IAAI,CAACR,IAAI,CAACuD,gBAAgB,EAAE;QACzE;MACF;MACA,IAAMC,UAAU,GAAG,IAAI,CAACxD,IAAI,CAACyD,IAAI,CAACC,KAAK,CAACC,cAAc,CAAC,CAAC;MACxD,IAAMC,MAAM,GAAG,MAAM;;MAErB;MACA,IAAIC,KAAK,CAAC,IAAI,CAAC7D,IAAI,CAAC8D,KAAK,CAAC,IAAI,IAAI,CAAC9D,IAAI,CAAC8D,KAAK,GAAG,CAAC,IAAI,IAAI,CAAC9D,IAAI,CAAC8D,KAAK,IAAI,IAAI,CAAC9D,IAAI,CAACuD,gBAAgB,CAAC7C,MAAM,EAAE;QACzG;MACF;MAEA,IAAMqD,GAAG,GAAG,IAAI,CAAC/D,IAAI,CAACuD,gBAAgB,CAAC,IAAI,CAACvD,IAAI,CAAC8D,KAAK,CAAC;;MAEvD;MACA,IAAIC,GAAG,KAAKC,SAAS,IAAI,CAAC,IAAI,CAAChE,IAAI,CAACQ,SAAS,CAACuD,GAAG,CAAC,EAAE;QAClD;MACF;;MAEA;MACA,IAAMhD,SAAS,GAAG,IAAI,CAACY,QAAQ,CAACf,QAAQ,CAACuB,UAAU,CAACN,QAAQ,CAACO,KAAK;MAClE,IAAMC,cAAc,GAAGtB,SAAS,CAACL,MAAM,GAAC,CAAC;MACzC,IAAM4B,aAAa,GAAGD,cAAc,GAAC,CAAC;MACtC,IAAME,KAAK,GAAG,CAAC;MACf,IAAIT,CAAC;MACL,IAAIC,CAAC;MACL,IAAIS,CAAC;MACL,IAAIyB,MAAM;MACV,IAAIxB,KAAK,GAAG,CAAC;MACb,IAAIlB,IAAI,GAAG,CAAC;MACZ,IAAImB,OAAO,GAAG,CAAC,CAAC;MAChB,IAAIC,SAAS,GAAG,CAAC;MACjB,IAAIC,YAAY,GAAG,CAAC;MACpB,KAAI,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACP,aAAa,GAAC,CAAC,EAAEO,CAAC,EAAE,EAAC;QAElC;QACA,IAAIA,CAAC,GAAC,CAAC,KAAK,CAAC,EAAC;UACZH,OAAO,EAAE;UACTnB,IAAI,GAAIA,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAE;QAC5B;QACAqB,YAAY,GAAGF,OAAO,GAAGC,SAAS;;QAElC;QACA,IAAGpB,IAAI,IAAI,CAAC,EAAC;UAAE;;UAEb;UACA,IAAIsB,CAAC,GAAC,CAAC,KAAK,CAAC,EAAC;YACZf,CAAC,GAAG,CAAC;YACLC,CAAC,GAAGe,IAAI,CAACC,KAAK,CAACH,YAAY,CAAC;YAC5BJ,CAAC,GAAG,CAAC;;YAEP;UACA,CAAC,MAAK,IAAGK,CAAC,GAAC,CAAC,KAAK,CAAC,EAAC;YACjBoB,MAAM,GAAGnB,IAAI,CAACC,KAAK,CAAC,IAAI,CAAC/C,IAAI,CAACiE,MAAM,CAAC,IAAI,CAACjE,IAAI,CAAC8D,KAAK,CAAC,GAAGN,UAAU,GAAGI,MAAM,CAAC,GAAG,EAAE;YACjF9B,CAAC,GAAGgB,IAAI,CAACoB,GAAG,CAAC,IAAI,CAAClE,IAAI,CAACQ,SAAS,CAACuD,GAAG,CAAC,CAACnB,YAAY,CAAC,GAAGY,UAAU,GAAGI,MAAM,CAAC,GAAG,CAAC,GAAGK,MAAM;YACvFlC,CAAC,GAAGe,IAAI,CAACC,KAAK,CAACH,YAAY,CAAC;YAC5BJ,CAAC,GAAG,CAAC;;YAEP;UACA,CAAC,MAAI;YACHyB,MAAM,GAAGnB,IAAI,CAACC,KAAK,CAAC,IAAI,CAAC/C,IAAI,CAACiE,MAAM,CAAC,IAAI,CAACjE,IAAI,CAAC8D,KAAK,CAAC,GAAGN,UAAU,GAAGI,MAAM,CAAC,GAAG,EAAE;YACjF9B,CAAC,GAAGgB,IAAI,CAACoB,GAAG,CAAC,IAAI,CAAClE,IAAI,CAACQ,SAAS,CAACuD,GAAG,CAAC,CAACnB,YAAY,GAAC,CAAC,CAAC,GAAGY,UAAU,GAAGI,MAAM,CAAC,GAAG,CAAC,GAAGK,MAAM;YACzFlC,CAAC,GAAGe,IAAI,CAACC,KAAK,CAACH,YAAY,GAAC,CAAC,CAAC;YAC9BJ,CAAC,GAAG,CAAC;UACP;QAGF,CAAC,MAAI;UAAE;;UAEL;UACA,IAAIK,CAAC,GAAC,CAAC,KAAK,CAAC,EAAC;YACZf,CAAC,GAAG,CAAC;YACLC,CAAC,GAAGe,IAAI,CAACC,KAAK,CAACH,YAAY,CAAC;YAC5BJ,CAAC,GAAG,CAAC;;YAEP;UACA,CAAC,MAAK,IAAGK,CAAC,GAAC,CAAC,KAAK,CAAC,EAAC;YACjBf,CAAC,GAAG,CAAC;YACLC,CAAC,GAAGe,IAAI,CAACC,KAAK,CAACH,YAAY,GAAC,CAAC,CAAC,CAAC,CAAC;YAChCJ,CAAC,GAAG,CAAC;;YAEP;UACA,CAAC,MAAI;YACHyB,MAAM,GAAGnB,IAAI,CAACC,KAAK,CAAC,IAAI,CAAC/C,IAAI,CAACiE,MAAM,CAAC,IAAI,CAACjE,IAAI,CAAC8D,KAAK,CAAC,GAAGN,UAAU,GAAGI,MAAM,CAAC,GAAG,EAAE;YACjF9B,CAAC,GAAGgB,IAAI,CAACoB,GAAG,CAAC,IAAI,CAAClE,IAAI,CAACQ,SAAS,CAACuD,GAAG,CAAC,CAACnB,YAAY,CAAC,GAAGY,UAAU,GAAGI,MAAM,CAAC,GAAG,CAAC,GAAGK,MAAM,GAAG,CAAC,CAAC,CAAC;YAC7FlC,CAAC,GAAGe,IAAI,CAACC,KAAK,CAACH,YAAY,CAAC;YAC5BJ,CAAC,GAAG,CAAC;YACLG,SAAS,EAAE;UACb;QAEF;;QAEA;QACA,IAAGb,CAAC,IAAE,CAAC,EAAC;UAACA,CAAC,GAAC,CAAC;QAAC;QAAC;QACd,IAAGC,CAAC,IAAE,CAAC,EAAC;UAACA,CAAC,GAAC,CAAC;QAAC;QAAC;QACd,IAAGS,CAAC,IAAE,CAAC,EAAC;UAACA,CAAC,GAAC,CAAC;QAAC;QAAC;;QAEd;QACA,IAAIC,KAAK,GAAG,CAAC,GAAGI,CAAC;QACjB9B,SAAS,CAAE0B,KAAK,CAAM,GAAGX,CAAC;QAC1Bf,SAAS,CAAE0B,KAAK,GAAG,CAAC,CAAE,GAAGV,CAAC;QAC1BhB,SAAS,CAAE0B,KAAK,GAAG,CAAC,CAAE,GAAGD,CAAC;MAC5B;MACA,IAAI,CAACb,QAAQ,CAACf,QAAQ,CAACuB,UAAU,CAACN,QAAQ,CAACsC,WAAW,GAAG,IAAI;;MAE7D;MACA;MACA;IACF;EAAC;IAAA7D,GAAA;IAAAC,KAAA,EAED,SAAA6D,WAAWA,CAACnE,KAAK,EAAC;MAChB;MACA,IAAI,CAAC,IAAI,CAAC0B,QAAQ,IAAI,CAAC,IAAI,CAACwB,cAAc,EAAE;QAC1C;MACF;MACA,IAAI,CAACxB,QAAQ,CAACP,QAAQ,CAACnB,KAAK,CAACoE,GAAG,CAACpE,KAAK,CAAC;MACvC,IAAI,CAACkD,cAAc,CAAC/B,QAAQ,CAACnB,KAAK,CAACoE,GAAG,CAACpE,KAAK,CAAC;IAC/C;;IAIA;EAAA;AAAA","ignoreList":[]}